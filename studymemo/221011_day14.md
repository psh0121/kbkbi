# [D+14]

# 클래스

\- 클래스는 데이터와 메소드가 결합된 데이터 타입이다.<br>
\- 만약 데이터와 메소드가 분리되어 있을경우 메소드는 메소드끼리 데이터는 데이터끼리 각자에만 신경을 써서 집중도가 올라간다는 장점이 있을 수 있겠지만 소스코드의 양이 늘어가고, 기능이 늘고, 복잡해지기 때문에 전체적인 구조가 눈에 잘 띄지 않는다는 큰 단점이 있다.<br><br>

=> 그렇기 때문에 클래스를 사용하는 것은 매우 유용한 일이다.<br><br>

---

## 추상화(Abstraction)

<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbbV8kr%2FbtrOnLTS2df%2F6I93lbpp7JdZJR1bDyVffK%2Fimg.png" width="90%"/>

내가 클라이언트에게 학사 관리 프로그램을 만들라는 주문을 받았는데 그중에서 학생정보를 만들려고 한다.<br>
그렇다면 나는 아마도 학번, 이름, 주소 등이 필요할 것이다.<br>
나는 이러한 정보를 어디서부터 가져온 것일까?<br><br>

만약 실제로 존재하는 학생이 있다고 생각해보자. 우리는 이 학생을 <b>실세계의 개체</b>라고 할 수 있다.<br>
이 학생이 실제로 가지고 있는 정보는 무한개로 무수히 많을 것이다.<br>
그렇다면 우리가 만들 프로그램상에서 존재하는 학생이 있다고 한다면 이는 <b>시스템에서의 개체</b>라고 할 수 있다.<br>
프로그램상에서의 학생이 실제가지고 있는 정보는 실세계의 개체가 가지고 있는 정보처럼 많은 양의 정보가 필요로하는 것이 아니라 우리가 필요로하는 학생정보에 관련된 데이터인 학번, 이름, 주소 등이 있게 되는 것이다.<br>
즉, 시스템에서의 개체가 가지고 있는 데이터는 실세계의 개체가 가지고 있는 데이터들중에서 골라온 것이라고 할 수 있는 것이다.<br><br>

이렇게 사용자의 요구사항, 설계상의 요구사항에 의해 무엇이 중요한 것인지 인지하고 뽑아내는 것을 추상화라고 한다.<br><br>

또한, 추상화를 통해서 뽑아낸 설계적 관점이 들어간 학번, 이름, 주소와같은 설계적인 관점이 들어간 데이터를 <b>속성(attribute)</b>이라고 한다.<br><br>

<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fexxhtz%2FbtrOnsGTloL%2F7w8FyRV4THQMkxfjF5ac1K%2Fimg.png" width="90%"/>

추상화를 길게 글로 표현한것을 간단하게 표현한 것이며, 추상화된 데이터나 기능을 또다시 묶어낸 것을 더 나아가 <b>캡슐화</b>라고 하니 잘 알아두도록 하자.<br><br>

### • 추상화가 필요한 이유

추상화를 제대로 하지 않으면 기능이 제한되며, 유지보수가 어려워진다.<br>
그로인해 이를 해결하기 위해서는 다시 코드를 갈아엎어야 하기 때문에 처음부터 망한코드가 되어버리는 것이다.<br><br>

그렇기 때문에 추상화를 잘 사용하면 데이터와 현실이 얼라인되어서 유지보수가 쉬울 뿐만아니라 기능이 제한될 가능성이 적기 때문에 추상화를 사용할 수 있으면 반드시 사용하도록 한다.<br><br>

---

## 참조타입 임시변수

```
String str1 = "박봉봉";
String str2 = new String("박봉봉");

boolean result = str1.equals(str2);
```

우리는 이전에 문자열이 동일한지 파악하기 위해서는 비교연산자를 사용하는 것이 아니라 equals를 사용해 문자열을 비교한다고 학습하였다.<br>
이때 우리는 이전에 str1과 str2라는 참조변수를 만든 후에 equals를 사용해주었다.<br><br>

```
String nickName = new String("박봉봉");

boolean result = nickName.equals(new String("박봉봉"));
```

그렇다면 이번에는 참조변수안에 문자열의 위치정보를 넣지 않고 바로 equals 안에 new String()을 해서 값을 넣게되면 올바른 결과값이 나오게 될까?<br>
사실 이 코드에서 오류는 나타나지 않으며 true라는 결과를 내놓는다.<br>
하지만 우리가 결과가 나온다는 것을 중점으로 봐야할 것이 아니라 위의 코드가 과연 true라는 결과값이 나오기까지 어떤 동작과정을 거치는지 이해할 필요가 있다.<br><br>

<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fbf5Cvg%2FbtrOjzOJzUA%2FzFXkxK498GdtTBne9iazo1%2Fimg.png" width="50%"/>

우리가 기존에 배웠던 String타입은 Heap에 데이터가 위치해서 시작정보를 받으면 이 시작정보를 스택에 있는 참조변수 안에 넣어주는 형식으로 배웠다.<br>
이러한 논리라면 사실상 equals안에 들어간 String타입도 변수안에 참조값을 넣어야 하는데 참조변수가 없기 때문에 참조값을 넣을 곳이 마련되어 있지 않다면 어떻게 코드가 제대로 실행되는 것일까?<br><br>

<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FpLQFS%2FbtrOlC5hCtu%2FuyZ0cObXDHAt4mwzjUupg1%2Fimg.png" width="50%"/>

new를 사용해서 실행될 경우 반드시 스택프레임을 통해서 넘겨줘야 하는데 사실상 받을 수 있는게 없는 상태이다.<br>
그런데 이때 자바 컴파일러가 코드를 훑어보고 사용자가 접근할 수 없는 대충 이름을 지어서 임시변수를 만들어버린다.<br>
그리고 그 값을 변수에 넣어서 equals에 넣어버려서 코드가 작동하게 되는 것이다.<br><br>

```
System.out.println("같다" + ".");
```

비슷한 예로 "같다"와 "."을 합쳐서 화면에 띄워주는 코드인데 프린트를 할때에는 합친 결과를 메모리 블록을 만들어서 넣은 다음에 시작정보를 넣어준 다음에 화면에 띄워줘야하는 것이다.<br>
그래서 임시변수를 통해서 합친값을 메모리에 넣고 합친 참조값을 변수에 넣어 실행해주면 제대로된 결과를 볼 수 있게 되는 것이다.<br><br>

```
System.out.println(1 + 2 + 3);
```

이또한 임시변수가 사용된 예이다.<br>
해당 코드는 전혀 문제가 없어보이지만 사실 보편적인 컴퓨터는 연산을 2개이상 한꺼번에 처리하지 못한다.
그렇기 때문에 사실상 1+2+3은 1+2를 더한다음에 나온 결과값에 3을 더해주는 과정이 생략되어있는 것이다.<br>
그렇기 때문에 먼서 더한 값을 임시변수를 통해 넣어준 다음에 이후에 다음 값을 더하는 과정을 통해서 결과값이 나오게 되는 것이다.<br><br>

### 임시변수 사용시 주의사항 )

임시변수는 코드를 간결하게 쓸 수 있으며, 그로인해 직관적이라는 특징을 가지고 있지만 임시변수는 사용자가 접근할 수 없기 때문에 파라미터로 사용되고 바로 메모리를 잃어버리게 된다. <br>
그렇기 때문에 내가 파라미터로 넣은 배열의 값을 확인하고 싶을 때에는 메소드에서 해당배열을 리턴시켜주어야 값을 잃어버리지 않고 확인할 수 있게 된다.<br><br>

---

### Bubble Sort 정리

<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbNtFgm%2FbtrOnr2mdyM%2F8y9Pp69KQ0USSHAfJZJ130%2Fimg.png" width="100%"/>

저번부터 학습했던 Bubble Sort를 기반으로 프로그램이 어떻게 제작되어지는지에 대한 정보를 그림으로 표현한 것이다.<br><br>

간단하게 설명해보자면 버블소트로 정렬할수있는 프로그램은 코드를 짤때 필요한 데이터를 끄집어내는 추상화와 이러한 것들을 비슷한 것 끼리 묶는 캡슐화 과정을 통해서 만들어 지게된다.<br><br>

이때의 BubbleSort()라는 클래스는 추상화를 통해 뽑아낸 데이터인 Attribute와 Method로 이루어져있다.<br><br>

간단하게 동작되는 코드를 만들었다면 우리는 코드의 알고리즘을 분석하여 프로그램이 좀더 효율적으로 동작되게 하기 위해 최적화 과정을 거치게된다.<br>
또한 완성된 버블정렬을 통해 우리는 Sort의 일반적인 구조를 확인할 수 있으며 sort 방식, sort 기준, swap으로 구성되어 있다.<br><br>

마지막으로 좋은 함수를 민들기 위해서는 파라미터와 리턴벨류를 신경써줘야 하는데 파라미터에서는 enum을 사용해 코드의 가독성과 강건성을 높여주고 리턴벨류에서는 코드안에서 임시변수를 생성하고 사용할 일이 생겼을 경우 꼭 임시변수안에 있는 값을 리턴해주는 함수를 만들어 주어야 한다.<br><br>

[티스토리 바로가기](https://onelight-stay.tistory.com/621)
